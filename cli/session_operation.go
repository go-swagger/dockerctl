// Code generated by go-swagger; DO NOT EDIT.

package cli

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"github.com/go-openapi/dockerctl/client/session"

	"github.com/spf13/cobra"
)

// makeOperationSessionSessionCmd returns a cmd to handle operation session
func makeOperationSessionSessionCmd() (*cobra.Command, error) {
	cmd := &cobra.Command{
		Use: "Session",
		Short: `Start a new interactive session with a server. Session allows server to call back to the client for advanced capabilities.

### Hijacking

This endpoint hijacks the HTTP connection to HTTP2 transport that allows the client to expose gPRC services on that connection.

For example, the client sends this request to upgrade the connection:

` + "`" + `` + "`" + `` + "`" + `
POST /session HTTP/1.1
Upgrade: h2c
Connection: Upgrade
` + "`" + `` + "`" + `` + "`" + `

The Docker daemon will respond with a ` + "`" + `101 UPGRADED` + "`" + ` response follow with the raw stream:

` + "`" + `` + "`" + `` + "`" + `
HTTP/1.1 101 UPGRADED
Connection: Upgrade
Upgrade: h2c
` + "`" + `` + "`" + `` + "`" + `
`,
		RunE: runOperationSessionSession,
	}

	if err := registerOperationSessionSessionParamFlags(cmd); err != nil {
		return nil, err
	}

	return cmd, nil
}

// runOperationSessionSession uses cmd flags to call endpoint api
func runOperationSessionSession(cmd *cobra.Command, args []string) error {
	appCli, err := makeClient(cmd, args)
	if err != nil {
		return err
	}
	// retrieve flag values from cmd and fill params
	params := session.NewSessionParams()
	// make request and then print result
	if err := printOperationSessionSessionResult(appCli.Session.Session(params)); err != nil {
		return err
	}
	return nil
}

// printOperationSessionSessionResult prints output to stdout
func printOperationSessionSessionResult(respErr error) error {
	if respErr != nil {
		return respErr
	}
	return nil
}

// registerOperationSessionSessionParamFlags registers all flags needed to fill params
func registerOperationSessionSessionParamFlags(cmd *cobra.Command) error {
	return nil
}
